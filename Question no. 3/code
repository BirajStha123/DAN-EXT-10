import turtle          
import math            

def draw_edge(t, length, depth):
    """
    This recursively draws a line segment with an inward triangular form in the middle part.
    """

    # BASE CASE
    # When recursion depth becomes 0, we will draw a straight line
    # This will help us stop the recursive calls
    if depth == 0:
        t.forward(length)   # It will move turtle forward by 'length'
        return              # It will exit the function

    # RECURSIVE CASE
    # Dividing the current line into three smaller equal parts
    part = length / 3

    # Drawing the first straight line segment
    draw_edge(t, part, depth - 1)

    # Turn left 60 degrees to create the triangle peak
    t.left(60)
    draw_edge(t, part, depth - 1)

    # Turn right 120 degrees to create the triangle peak
    t.right(120)
    draw_edge(t, part, depth - 1)

    # Turn back to the original direction
    t.left(60)

    # Drawing the final straight segment
    draw_edge(t, part, depth - 1)


def setup_turtle():
    """It creates the turtle window and configures drawing settings."""
    
    # Creating the drawing window
    screen = turtle.Screen()
    screen.title("Recursive Inward Pattern")

    # Creating and configuring the turtle
    pen = turtle.Turtle()
    pen.speed(10)       # Fast animated drawing
    pen.hideturtle()    # Hide turtle cursor for cleaner output

    return screen, pen


def position_turtle_alt2(t, sides, length):
    """This program centers the polygon using centroid calculation."""
    
    # Calculating polygon width and height
    angle = math.pi / sides
    radius = length / (2 * math.sin(angle))
    
    t.penup()
    t.goto(-length / 2, -radius * math.cos(angle))  # Offsets by half-width and height
    t.setheading(0)
    t.pendown()


def draw_shape(t, sides, length, depth):
    """
    This function draws the complete polygon.

    Parameters:
    sides  : number of sides of the polygon (e.g., 3 for triangle)
    length : length of each side
    depth  : recursion depth for each side

    Each side of the polygon is drawn using the recursive draw_edge function.
    """

    # Calculate turning angle for the polygon
    # Example: 360 / 3 = 120 degrees for a triangle
    turn = 360 / sides

    # Loop through each side of the polygon
    for _ in range(sides):
        draw_edge(t, length, depth)  # Draww a recursive edge
        t.left(turn)                 # Turn to draw the next side


def main():
    # Taking user inputs
    sides = int(input("Enter number of sides: "))       # Asks the user for the number of sides
    length = float(input("Enter side length: "))       # Asks the user for the length of each side
    depth = int(input("Enter recursion depth: "))      # Asks the user for recursion depth

    # Validating user input to avoid logical errors
    if sides < 3 or length <= 0 or depth < 0:
        raise ValueError("Invalid input values.")

    # Setting up the turtle and screen
    screen, pen = setup_turtle()

    # Positioning the turtle and drawing the shape
    position_turtle_alt2(pen, sides, length)
    draw_shape(pen, sides, length, depth)

    # Keepingthe window open until closed by user
    turtle.done()


# Programming the entry point
if __name__ == "__main__":
    main()


