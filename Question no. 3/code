# Importing  the turtle with graphics module
# This module will help us to draw shapes on the screen with the use of a  virtual pen
import turtle


def draw_edge(length, depth):
    """
    This function draws ONE side of the shape using recursion.

    Parameters:
    length : the length of the current line segment to be drawn
    depth  : how many more times the function should call itself

    If depth becomes 0, the recursion stops and a straight line is drawn.
    """

    #  BASE CASE
    # When Recursion depth will become 0,we will draw a straight line
    # This will help us to stops the recursive calls
    if depth == 0:
        turtle.forward(length)   # It will move turtle forward by 'length'
        return                   # It will exit the function

    # RECURSIVE CASE
    # Dividing the current line into threesmaller equal parts
    length = length / 3

    # Drawin the first of the line which is one third
    draw_edge(length, depth - 1)


    #Now,we will turn turtle left upt 60 degrees so that we can bulid  the first angle of the triangle
    turtle.left(60)

    # We will draw the triangle upward part(second segment)
    draw_edge(length, depth - 1)

    # Below step we will turtle right upto  120 degrees so that we can build  the triangle peak
    turtle.right(120)

    # Third segment is drawn now
    draw_edge(length, depth - 1)

    # Turtle is turned left by 60 degrees so that we can return to original direction
    turtle.left(60)
 
    # We will draw the line which is the last one-third
    draw_edge(length, depth - 1)


def draw_shape(sides, length, depth):
    """
    This function draws the complete polygon.

    Parameters:
    sides  : number of sides of the polygon (e.g., 3 for triangle)
    length : length of each side
    depth  : recursion depth for each side

    Each side of the polygon is drawn using the recursive draw_edge function.
    """

    # Now calculation is done for turning angle for the polygon
    # Example: 360 / 3 = 120 degrees for a triangle
    angle = 360 / sides

    # Loop will be drawn at the each side of the polygon
    for _ in range(sides):

        # One side using recursion is drawn 
        draw_edge(length, depth)

        #Turtle to start the next side is turned
        turtle.right(angle)


# MAIN PROGRAM 
# We will ask the user for the number of sides they would want. 
sides = int(input("Enter number of sides (>= 3): "))

# We will  the user for the length of each side they would want.
length = int(input("Enter side length (> 0): "))

# We will ask the user for recursion depth
depth = int(input("Enter recursion depth (>= 0): "))

# We will now validate user input so that logical errors are avoided.
if sides < 3 or length <= 0 or depth < 0:
    print("Invalid input values. Please enter correct numbers.")

else:
    # The drawing screen is created.
    screen = turtle.Screen()

    # Screen size set in such a way that  drawing fits properly
    screen.setup(width=800, height=800)

    # Turtle drawing is set so that speed can go to maximum
    turtle.speed(0)

    #Turtle arrow  is hidden for cleaner output
    turtle.hideturtle()

    # The pen is lifted so that turtle can move without drawing
    turtle.penup()

    # Turtle will move slightly from left to center the drawing
    turtle.goto(-length / 2, 0)

    # Put the pen down so that we can start drawing
    turtle.pendown()

    # Function is called to draw the recursive shape
    draw_shape(sides, length, depth)

    # The Window is keptopen until the user closes it
    turtle.done()

